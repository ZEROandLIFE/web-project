import{r as t,u as g,j as e,l as x}from"./index-Dhmb56CU.js";import{B as j}from"./Button-Bmeh-JtX.js";import{I as m}from"./Input-ChJNsZGx.js";import{A as v}from"./Alert-DIwixrTu.js";const y=()=>{t.useEffect(()=>{document.title="用户登录 - 盲盒平台"},[]);const[a,c]=t.useState({username:"",password:""}),[n,o]=t.useState(""),[i,l]=t.useState(!1),d=g(),u=r=>{const{name:s,value:p}=r.target;c(f=>({...f,[s]:p}))},h=async r=>{r.preventDefault(),l(!0),o("");try{await x(a.username,a.password),d("/home")}catch(s){o(s instanceof Error?s.message:"登录失败")}finally{l(!1)}};return e.jsxs("form",{onSubmit:h,className:"auth-form",children:[n&&e.jsx(v,{type:"error",message:n}),e.jsx(m,{label:"用户名",type:"text",name:"username",value:a.username,onChange:u,required:!0}),e.jsx(m,{label:"密码",type:"password",name:"password",value:a.password,onChange:u,required:!0}),e.jsx(j,{type:"submit",disabled:i,fullWidth:!0,children:i?"登录中...":"登录"})]})},S=()=>e.jsx("div",{className:"auth-page",children:e.jsxs("div",{className:"auth-container",children:[e.jsx("h1",{className:"auth-title",children:"盲盒抽奖机 - 登录"}),e.jsx(y,{}),e.jsxs("div",{className:"auth-footer",children:["还没有账号？",e.jsx("a",{href:"/register",children:"立即注册"})]})]})});export{S as default};
